"use strict";(globalThis.webpackChunkrelics_docs=globalThis.webpackChunkrelics_docs||[]).push([[3378],{2352(n,t,e){e.d(t,{A:()=>h});var o=e(6540),i=e(7489),a=e(2181),r=e(6342),s=e(5293);let u=null;async function l(){return u||(u=async function(){return(await e.e(2279).then(e.bind(e,2279))).default}()),u}function c(){const{colorMode:n}=(0,s.G)(),t=(0,r.p)().mermaid,e=t.theme[n],{options:i}=t;return(0,o.useMemo)(()=>({startOnLoad:!1,...i,theme:e}),[e,i])}function p({text:n,config:t}){const[e,i]=(0,o.useState)(null),a=(0,o.useState)(`mermaid-svg-${Math.round(1e7*Math.random())}`)[0],r=c(),s=t??r;return(0,o.useEffect)(()=>{(async function({id:n,text:t,config:e}){const o=await l();o.initialize(e);try{return await o.render(n,t)}catch(i){throw document.querySelector(`#d${n}`)?.remove(),i}})({id:a,text:n,config:s}).then(i).catch(n=>{i(()=>{throw n})})},[a,n,s]),e}const f="container_lyt7";var m=e(4848);function d({renderResult:n}){const t=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const e=t.current;n.bindFunctions?.(e)},[n]),(0,m.jsx)("div",{ref:t,className:`docusaurus-mermaid-container ${f}`,dangerouslySetInnerHTML:{__html:n.svg}})}function v({value:n}){const t=p({text:n});return null===t?null:(0,m.jsx)(d,{renderResult:t})}function h(n){return(0,m.jsx)(i.A,{fallback:n=>(0,m.jsx)(a.MN,{...n}),children:(0,m.jsx)(v,{...n})})}},3217(n,t,e){e.d(t,{GT:()=>mn,WZ:()=>hn});var o=e(6540),i=function(n,t){return Number(n.toFixed(t))},a=function(n,t,e){e&&"function"==typeof e&&e(n,t)},r={easeOut:function(n){return-Math.cos(n*Math.PI)/2+.5},linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}},s=function(n){"number"==typeof n&&cancelAnimationFrame(n)},u=function(n){n.mounted&&(s(n.animation),n.animate=!1,n.animation=null,n.velocity=null)};function l(n,t,e,o){if(n.mounted){var i=(new Date).getTime();u(n),n.animation=function(){if(!n.mounted)return s(n.animation);var a=(new Date).getTime()-i,u=(0,r[t])(a/e);a>=e?(o(1),n.animation=null):n.animation&&(o(u),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation)}}function c(n,t,e,o){var i=function(n){var t=n.scale,e=n.positionX,o=n.positionY;return!(Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(o))}(t);if(n.mounted&&i){var a=n.setTransformState,r=n.transformState,s=r.scale,u=r.positionX,c=r.positionY,p=t.scale-s,f=t.positionX-u,m=t.positionY-c;0===e?a(t.scale,t.positionX,t.positionY):l(n,o,e,function(n){a(s+p*n,u+f*n,c+m*n)})}}var p=function(n,t){var e=n.wrapperComponent,o=n.contentComponent,i=n.setup.centerZoomedOut;if(!e||!o)throw new Error("Components are not mounted");var a=function(n,t,e){var o=n.offsetWidth,i=n.offsetHeight,a=t.offsetWidth*e,r=t.offsetHeight*e;return{wrapperWidth:o,wrapperHeight:i,newContentWidth:a,newDiffWidth:o-a,newContentHeight:r,newDiffHeight:i-r}}(e,o,t),r=a.wrapperWidth,s=a.wrapperHeight,u=function(n,t,e,o,i,a,r){var s=n>t?e*(r?1:.5):0,u=o>i?a*(r?1:.5):0;return{minPositionX:n-t-s,maxPositionX:s,minPositionY:o-i-u,maxPositionY:u}}(r,a.newContentWidth,a.newDiffWidth,s,a.newContentHeight,a.newDiffHeight,Boolean(i));return u},f=function(n,t,e,o){return i(o?n<t?t:n>e?e:n:n,2)},m=function(n,t){var e=p(n,t);return n.bounds=e,e};function d(n,t,e,o,i,a,r){var s=e.minPositionX,u=e.minPositionY,l=e.maxPositionX,c=e.maxPositionY,p=0,m=0;return r&&(p=i,m=a),{x:f(n,s-p,l+p,o),y:f(t,u-m,c+m,o)}}function v(n,t,e,o,i,a){var r=n.transformState,s=r.scale,u=r.positionX,l=r.positionY,c=o-s;return"number"!=typeof t||"number"!=typeof e?(console.error("Mouse X and Y position were not provided!"),{x:u,y:l}):d(u-t*c,l-e*c,i,a,0,0,null)}function h(n,t,e,o,i){var a=t-(i?o:0);return!Number.isNaN(e)&&n>=e?e:!Number.isNaN(t)&&n<=a?a:n}var g=function(n,t){var e=n.setup.panning.excluded,o=n.isInitialized,i=n.wrapperComponent,a=t.target,r="shadowRoot"in a&&"composedPath"in t?t.composedPath().some(function(n){return n instanceof Element&&(null==i?void 0:i.contains(n))}):null==i?void 0:i.contains(a);return!!(o&&a&&r)&&!J(a,e)},S=function(n){var t=n.isInitialized,e=n.isPanning,o=n.setup.panning.disabled;return!(!t||!e||o)};function y(n,t,e,o,i){var a=n.setup.limitToBounds,r=n.wrapperComponent,s=n.bounds,u=n.transformState,l=u.scale,c=u.positionX,p=u.positionY;if(null!==r&&null!==s&&(t!==c||e!==p)){var f=d(t,e,s,a,o,i,r),m=f.x,v=f.y;n.setTransformState(l,m,v)}}var w=function(n,t){var e=n.setup,o=n.transformState.scale,i=e.minScale,a=e.disablePadding;return t>0&&o>=i&&!a?t:0};function b(n,t,e,o,i,a,r,s,u,l){if(i){var c;if(t>r&&e>r)return(c=r+(n-r)*l)>u?u:c<r?r:c;if(t<a&&e<a)return(c=a+(n-a)*l)<s?s:c>a?a:c}return o?t:f(n,a,r,i)}function C(n,t){var e=function(n){var t=n.mounted,e=n.setup,o=e.disabled,i=e.velocityAnimation,a=n.transformState.scale;return!(i.disabled&&!(a>1)&&o&&!t)}(n);if(e){var o=n.lastMousePosition,i=n.velocityTime,a=n.setup,r=n.wrapperComponent,s=a.velocityAnimation.equalToMove,u=Date.now();if(o&&i&&r){var l=function(n,t){return t?Math.min(1,n.offsetWidth/window.innerWidth):1}(r,s),c=t.x-o.x,p=t.y-o.y,f=c/l,m=p/l,d=u-i,v=c*c+p*p,h=Math.sqrt(v)/d;n.velocity={velocityX:f,velocityY:m,total:h}}n.lastMousePosition=t,n.velocityTime=u}}function P(n,t){var e=n.transformState.scale;u(n),m(n,e),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(n,t){var e=t.touches,o=n.transformState,i=o.positionX,a=o.positionY;if(n.isPanning=!0,1===e.length){var r=e[0].clientX,s=e[0].clientY;n.startCoords={x:r-i,y:s-a}}}(n,t):function(n,t){var e=n.transformState,o=e.positionX,i=e.positionY;n.isPanning=!0;var a=t.clientX,r=t.clientY;n.startCoords={x:a-o,y:r-i}}(n,t)}function x(n,t){var e=n.transformState.scale,o=n.setup,i=o.minScale,a=o.alignmentAnimation,r=a.disabled,s=a.sizeX,u=a.sizeY,l=a.animationTime,p=a.animationType;if(!(r||e<i||!s&&!u)){var f=function(n){var t=n.transformState,e=t.positionX,o=t.positionY,i=t.scale,a=n.setup,r=a.disabled,s=a.limitToBounds,u=a.centerZoomedOut,l=n.wrapperComponent;if(!r&&l&&n.bounds){var c=n.bounds,p=c.maxPositionX,f=c.minPositionX,m=c.maxPositionY,d=c.minPositionY,h=e>p||e<f,g=o>m||o<d,S=v(n,e>p?l.offsetWidth:n.setup.minPositionX||0,o>m?l.offsetHeight:n.setup.minPositionY||0,i,n.bounds,s||u),y=S.x,w=S.y;return{scale:i,positionX:h?y:e,positionY:g?w:o}}}(n);f&&c(n,f,null!=t?t:l,p)}}function T(n,t,e){var o=n.startCoords,i=n.setup.alignmentAnimation,a=i.sizeX,r=i.sizeY;if(o){var s=function(n,t,e){var o=n.startCoords,i=n.transformState,a=n.setup.panning,r=a.lockAxisX,s=a.lockAxisY,u=i.positionX,l=i.positionY;if(!o)return{x:u,y:l};var c=t-o.x,p=e-o.y;return{x:r?u:c,y:s?l:p}}(n,t,e),u=s.x,l=s.y,c=w(n,a),p=w(n,r);C(n,{x:u,y:l}),y(n,u,l,c,p)}}function Y(n){if(n.isPanning){var t=n.setup.panning.velocityDisabled,e=n.velocity,o=n.wrapperComponent,i=n.contentComponent;n.isPanning=!1,n.animate=!1,n.animation=null;var a=null==o?void 0:o.getBoundingClientRect(),s=null==i?void 0:i.getBoundingClientRect(),u=(null==a?void 0:a.width)||0,c=(null==a?void 0:a.height)||0,p=(null==s?void 0:s.width)||0,f=(null==s?void 0:s.height)||0,m=u<p||c<f;!t&&e&&(null==e?void 0:e.total)>.1&&m?function(n){var t=n.velocity,e=n.bounds,o=n.setup,i=n.wrapperComponent,a=function(n){var t=n.mounted,e=n.velocity,o=n.bounds,i=n.setup,a=i.disabled,r=i.velocityAnimation,s=n.transformState.scale;return!(r.disabled&&!(s>1)&&a&&!t||!e||!o)}(n);if(a&&t&&e&&i){var s=t.velocityX,u=t.velocityY,c=t.total,p=e.maxPositionX,f=e.minPositionX,m=e.maxPositionY,d=e.minPositionY,v=o.limitToBounds,h=o.alignmentAnimation,g=o.zoomAnimation,S=o.panning,y=S.lockAxisY,C=S.lockAxisX,P=g.animationType,x=h.sizeX,T=h.sizeY,Y=h.velocityAlignmentTime,E=function(n,t){var e=n.setup.velocityAnimation,o=e.equalToMove,i=e.animationTime,a=e.sensitivity;return o?i*t*a:i}(n,c),X=Math.max(E,Y),z=w(n,x),N=w(n,T),k=z*i.offsetWidth/100,W=N*i.offsetHeight/100,A=p+k,D=f-k,O=m+W,M=d-W,I=n.transformState,L=(new Date).getTime();l(n,P,X,function(t){var e=n.transformState,o=e.scale,i=e.positionX,a=e.positionY,l=((new Date).getTime()-L)/Y,c=1-(0,r[h.animationType])(Math.min(1,l)),g=1-t,S=i+s*g,w=a+u*g,P=b(S,I.positionX,i,C,v,f,p,D,A,c),x=b(w,I.positionY,a,y,v,d,m,M,O,c);i===S&&a===w||n.setTransformState(o,P,x)})}}(n):x(n)}}function E(n,t,e,o){var a=n.setup,r=a.minScale,s=a.maxScale,u=a.limitToBounds,l=h(i(t,2),r,s,0,!1),c=v(n,e,o,l,m(n,l),u);return{scale:l,positionX:c.x,positionY:c.y}}function X(n,t,e){var o=n.transformState.scale,i=n.wrapperComponent,a=n.setup,r=a.minScale,s=a.limitToBounds,u=a.zoomAnimation,l=u.disabled,p=u.animationTime,f=u.animationType,m=l||o>=r;if((o>=1||s)&&x(n),!m&&i&&n.mounted){var d=E(n,r,t||i.offsetWidth/2,e||i.offsetHeight/2);d&&c(n,d,p,f)}}var z=function(){return z=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},z.apply(this,arguments)};function N(n,t,e){if(e||2===arguments.length)for(var o,i=0,a=t.length;i<a;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var k=1,W=0,A=0,D={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},O="react-transform-wrapper",M="react-transform-component",I=function(n){var t,e,o,i;return{previousScale:null!==(t=n.initialScale)&&void 0!==t?t:k,scale:null!==(e=n.initialScale)&&void 0!==e?e:k,positionX:null!==(o=n.initialPositionX)&&void 0!==o?o:W,positionY:null!==(i=n.initialPositionY)&&void 0!==i?i:A}},L=function(n){var t=z({},D);return Object.keys(n).forEach(function(e){var o=void 0!==n[e];if(void 0!==D[e]&&o){var i=Object.prototype.toString.call(D[e]),a="[object Object]"===i,r="[object Array]"===i;t[e]=a?z(z({},D[e]),n[e]):r?N(N([],D[e],!0),n[e],!0):n[e]}}),t},B=function(n,t,e){var o=n.transformState.scale,a=n.wrapperComponent,r=n.setup,s=r.maxScale,u=r.minScale,l=r.zoomAnimation,c=r.smooth,p=l.size;if(!a)throw new Error("Wrapper is not mounted");var f=c?o*Math.exp(t*e):o+t*e;return h(i(f,3),u,s,p,!1)};function K(n,t,e,o,i){var a=n.wrapperComponent,r=n.transformState,s=r.scale,u=r.positionX,l=r.positionY;if(!a)return console.error("No WrapperComponent found");var p=(a.offsetWidth/2-u)/s,f=(a.offsetHeight/2-l)/s,m=E(n,B(n,t,e),p,f);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");c(n,m,o,i)}function R(n,t,e,o){var i=n.setup,a=n.wrapperComponent,r=i.limitToBounds,s=I(n.props),u=n.transformState,l=u.scale,f=u.positionX,m=u.positionY;if(a){var v=p(n,s.scale),h=d(s.positionX,s.positionY,v,r,0,0,a),g={scale:s.scale,positionX:h.x,positionY:h.y};l===s.scale&&f===s.positionX&&m===s.positionY||(null==o||o(),c(n,g,t,e))}}var _=function(n){return function(t,e,o){void 0===t&&(t=.5),void 0===e&&(e=300),void 0===o&&(o="easeOut"),K(n,1,t,e,o)}},H=function(n){return function(t,e,o){void 0===t&&(t=.5),void 0===e&&(e=300),void 0===o&&(o="easeOut"),K(n,-1,t,e,o)}},Z=function(n){return function(t,e,o,i,a){void 0===i&&(i=300),void 0===a&&(a="easeOut");var r=n.transformState,s=r.positionX,u=r.positionY,l=r.scale,p=n.wrapperComponent,f=n.contentComponent;if(!n.setup.disabled&&p&&f){var m={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(e)?u:e,scale:Number.isNaN(o)?l:o};c(n,m,i,a)}}},j=function(n){return function(t,e){void 0===t&&(t=200),void 0===e&&(e="easeOut"),R(n,t,e)}},F=function(n){return function(t,e,o){void 0===e&&(e=200),void 0===o&&(o="easeOut");var i=n.transformState,a=n.wrapperComponent,r=n.contentComponent;if(a&&r){var s=tn(t||i.scale,a,r);c(n,s,e,o)}}},q=function(n){return function(t,e,o,i){void 0===o&&(o=600),void 0===i&&(i="easeOut"),u(n);var a=n.wrapperComponent,r="string"==typeof t?document.getElementById(t):t;if(a&&r&&a.contains(r)){var s=function(n,t,e){var o=n.wrapperComponent,i=n.contentComponent,a=n.transformState,r=n.setup,s=r.limitToBounds,u=r.minScale,l=r.maxScale;if(!o||!i)return a;var c,f,m,v,g,S,y,w,b=o.getBoundingClientRect(),C=t.getBoundingClientRect(),P=(c=o,f=i,m=a,v=t.getBoundingClientRect(),g=c.getBoundingClientRect(),S=f.getBoundingClientRect(),y=g.x*m.scale,w=g.y*m.scale,{x:(v.x-S.x+y)/m.scale,y:(v.y-S.y+w)/m.scale}),x=P.x,T=P.y,Y=C.width/a.scale,E=C.height/a.scale,X=o.offsetWidth/Y,z=o.offsetHeight/E,N=h(e||Math.min(X,z),u,l,0,!1),k=(b.width-Y*N)/2,W=(b.height-E*N)/2,A=d((b.left-x)*N+k,(b.top-T)*N+W,p(n,N),s,0,0,o);return{positionX:A.x,positionY:A.y,scale:N}}(n,r,e);c(n,s,o,i)}}},Q=function(n){return{instance:n,zoomIn:_(n),zoomOut:H(n),setTransform:Z(n),resetTransform:j(n),centerView:F(n),zoomToElement:q(n)}},U=function(n){return{instance:n,state:n.transformState}},V=function(n){var t={};return Object.assign(t,U(n)),Object.assign(t,Q(n)),t};function $(){try{return{get passive(){return!1}}}catch(n){return!1}}var G=".".concat(O),J=function(n,t){return t.some(function(t){return n.matches("".concat(G," ").concat(t,", ").concat(G," .").concat(t,", ").concat(G," ").concat(t," *, ").concat(G," .").concat(t," *"))})},nn=function(n){n&&clearTimeout(n)},tn=function(n,t,e){var o=e.offsetWidth*n,i=e.offsetHeight*n;return{scale:n,positionX:(t.offsetWidth-o)/2,positionY:(t.offsetHeight-i)/2}};function en(n,t,e){var o=t.getBoundingClientRect(),i=0,a=0;if("clientX"in n)i=(n.clientX-o.left)/e,a=(n.clientY-o.top)/e;else{var r=n.touches[0];i=(r.clientX-o.left)/e,a=(r.clientY-o.top)/e}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var on=function(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))},an=function(n,t){var e=n.props,o=e.onWheel,r=e.onZoom,s=n.contentComponent,u=n.setup,l=n.transformState.scale,c=u.limitToBounds,p=u.centerZoomedOut,f=u.zoomAnimation,d=u.wheel,g=u.disablePadding,S=u.smooth,y=f.size,w=f.disabled,b=d.step,C=d.smoothStep;if(!s)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var P=function(n,t){var e,o,i=function(n){return n?n.deltaY<0?1:-1:0}(n);return o=i,"number"==typeof(e=t)?e:o}(t,null),x=function(n,t,e,o,a){var r=n.transformState.scale,s=n.wrapperComponent,u=n.setup,l=u.maxScale,c=u.minScale,p=u.zoomAnimation,f=u.disablePadding,m=p.size,d=p.disabled;if(!s)throw new Error("Wrapper is not mounted");var v=r+t*e;if(a)return v;var g=!o&&!d;return h(i(v,3),c,l,m,g&&!f)}(n,P,S?C*Math.abs(t.deltaY):b,!t.ctrlKey);if(l!==x){var T=m(n,x),Y=en(t,s,l),E=c&&(w||0===y||p||g),X=v(n,Y.x,Y.y,x,T,E),z=X.x,N=X.y;n.previousWheelEvent=t,n.setTransformState(x,z,N),a(V(n),t,o),a(V(n),t,r)}},rn=function(n,t){var e=n.props,o=e.onWheelStop,i=e.onZoomStop;nn(n.wheelAnimationTimer),n.wheelAnimationTimer=setTimeout(function(){n.mounted&&(X(n,t.x,t.y),n.wheelAnimationTimer=null)},100);var r=function(n,t){var e=n.previousWheelEvent,o=n.transformState.scale,i=n.setup,a=i.maxScale,r=i.minScale;return!!e&&(o<a||o>r||Math.sign(e.deltaY)!==Math.sign(t.deltaY)||e.deltaY>0&&e.deltaY<t.deltaY||e.deltaY<0&&e.deltaY>t.deltaY||Math.sign(e.deltaY)!==Math.sign(t.deltaY))}(n,t);r&&(nn(n.wheelStopEventTimer),n.wheelStopEventTimer=setTimeout(function(){n.mounted&&(n.wheelStopEventTimer=null,a(V(n),t,o),a(V(n),t,i))},160))},sn=function(n){for(var t=0,e=0,o=0;o<2;o+=1)t+=n.touches[o].clientX,e+=n.touches[o].clientY;return{x:t/2,y:e/2}},un=function(n,t){var e=n.contentComponent,o=n.pinchStartDistance,a=n.wrapperComponent,r=n.transformState.scale,s=n.setup,u=s.limitToBounds,l=s.centerZoomedOut,c=s.zoomAnimation,p=s.alignmentAnimation,f=c.disabled,g=c.size;if(null!==o&&e){var S=function(n,t,e){var o=e.getBoundingClientRect(),a=n.touches,r=i(a[0].clientX-o.left,5),s=i(a[0].clientY-o.top,5);return{x:(r+i(a[1].clientX-o.left,5))/2/t,y:(s+i(a[1].clientY-o.top,5))/2/t}}(t,r,e);if(Number.isFinite(S.x)&&Number.isFinite(S.y)){var y=on(t),b=function(n,t){var e=n.pinchStartScale,o=n.pinchStartDistance,a=n.setup,r=a.maxScale,s=a.minScale,u=a.zoomAnimation,l=a.disablePadding,c=u.size,p=u.disabled;if(!e||null===o||!t)throw new Error("Pinch touches distance was not provided");return t<0?n.transformState.scale:h(i(t/o*e,2),s,r,c,!p&&!l)}(n,y),C=sn(t),P=C.x-(n.pinchLastCenterX||0),x=C.y-(n.pinchLastCenterY||0);if(b!==r||0!==P||0!==x){n.pinchLastCenterX=C.x,n.pinchLastCenterY=C.y;var T=m(n,b),Y=u&&(f||0===g||l),E=v(n,S.x,S.y,b,T,Y),X=E.x,z=E.y;n.pinchMidpoint=S,n.lastDistance=y;var N=p.sizeX,k=p.sizeY,W=d(X+P,z+x,T,u,w(n,N),w(n,k),a),A=W.x,D=W.y;n.setTransformState(b,A,D)}}}},ln=function(n,t){var e=n.props.onZoomStop,o=n.setup.doubleClick.animationTime;nn(n.doubleClickStopEventTimer),n.doubleClickStopEventTimer=setTimeout(function(){n.doubleClickStopEventTimer=null,a(V(n),t,e)},o)};function cn(n,t){var e=n.setup,o=n.doubleClickStopEventTimer,i=n.transformState,r=n.contentComponent,s=i.scale,u=n.props,l=u.onZoomStart,p=u.onZoom,f=e.doubleClick,m=f.disabled,d=f.mode,v=f.step,h=f.animationTime,g=f.animationType;if(!m&&!o){if("reset"===d)return function(n,t){var e=n.props,o=e.onZoomStart,i=e.onZoom,r=n.setup.doubleClick,s=r.animationTime,u=r.animationType;a(V(n),t,o),R(n,s,u,function(){return a(V(n),t,i)}),ln(n,t)}(n,t);if(!r)return console.error("No ContentComponent found");var S=function(n,t){return"toggle"===n?1===t?1:-1:"zoomOut"===n?-1:1}(d,n.transformState.scale),y=B(n,S,v);if(s!==y){a(V(n),t,l);var w=en(t,r,s),b=E(n,y,w.x,w.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");a(V(n),t,p),c(n,b,h,g),ln(n,t)}}}var pn=function(n){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(n){t.props=n,m(t,t.transformState.scale),t.setup=L(n)},this.initializeWindowEvents=function(){var n,e,o=$(),i=null===(n=t.wrapperComponent)||void 0===n?void 0:n.ownerDocument,a=null==i?void 0:i.defaultView;null===(e=t.wrapperComponent)||void 0===e||e.addEventListener("wheel",t.onWheelPanning,o),null==a||a.addEventListener("mousedown",t.onPanningStart,o),null==a||a.addEventListener("mousemove",t.onPanning,o),null==a||a.addEventListener("mouseup",t.onPanningStop,o),null==i||i.addEventListener("mouseleave",t.clearPanning,o),null==a||a.addEventListener("keyup",t.setKeyUnPressed,o),null==a||a.addEventListener("keydown",t.setKeyPressed,o)},this.cleanupWindowEvents=function(){var n,e,o=$(),i=null===(n=t.wrapperComponent)||void 0===n?void 0:n.ownerDocument,a=null==i?void 0:i.defaultView;null==a||a.removeEventListener("mousedown",t.onPanningStart,o),null==a||a.removeEventListener("mousemove",t.onPanning,o),null==a||a.removeEventListener("mouseup",t.onPanningStop,o),null==i||i.removeEventListener("mouseleave",t.clearPanning,o),null==a||a.removeEventListener("keyup",t.setKeyUnPressed,o),null==a||a.removeEventListener("keydown",t.setKeyPressed,o),document.removeEventListener("mouseleave",t.clearPanning,o),u(t),null===(e=t.observer)||void 0===e||e.disconnect()},this.handleInitializeWrapperEvents=function(n){var e=$();n.addEventListener("wheel",t.onWheelZoom,e),n.addEventListener("dblclick",t.onDoubleClick,e),n.addEventListener("touchstart",t.onTouchPanningStart,e),n.addEventListener("touchmove",t.onTouchPanning,e),n.addEventListener("touchend",t.onTouchPanningStop,e)},this.handleInitialize=function(n,e){var o=!1,i=t.setup.centerOnInit,a=function(n,t){for(var e=0,o=n;e<o.length;e++)if(o[e].target===t)return!0;return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(n){n(V(t))}),t.observer=new ResizeObserver(function(r){if(a(r,n)||a(r,e))if(i&&!o){var s=e.offsetWidth,l=e.offsetHeight;(s>0||l>0)&&(o=!0,t.setCenter())}else u(t),m(t,t.transformState.scale),x(t,0)}),t.observer.observe(n),t.observer.observe(e)},this.onWheelZoom=function(n){if(!t.setup.disabled){var e=function(n,t){var e=n.setup.wheel,o=e.disabled,i=e.wheelDisabled,a=e.touchPadDisabled,r=e.excluded,s=n.isInitialized,u=n.isPanning,l=t.target;return!(!s||u||o||!l||i&&!t.ctrlKey||a&&t.ctrlKey||J(l,r))}(t,n);e&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(n,t){var e=n.props,o=e.onWheelStart,i=e.onZoomStart;n.wheelStopEventTimer||(u(n),a(V(n),t,o),a(V(n),t,i))}(t,n),an(t,n),rn(t,n))}},this.onWheelPanning=function(n){var e=t.setup,o=e.disabled,i=e.wheel,a=e.panning;if(t.wrapperComponent&&t.contentComponent&&!o&&i.wheelDisabled&&!a.disabled&&a.wheelPanning&&!n.ctrlKey){n.preventDefault(),n.stopPropagation();var r=t.transformState,s=r.positionX,u=r.positionY,l=s-n.deltaX,c=u-n.deltaY,p=a.lockAxisX?s:l,f=a.lockAxisY?u:c,m=t.setup.alignmentAnimation,d=m.sizeX,v=m.sizeY,h=w(t,d),g=w(t,v);p===s&&f===u||y(t,p,f,h,g)}},this.onPanningStart=function(n){var e=t.setup.disabled,o=t.props.onPanningStart;e||g(t,n)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(0!==n.button||t.setup.panning.allowLeftClickPan)&&(1!==n.button||t.setup.panning.allowMiddleClickPan)&&(2!==n.button||t.setup.panning.allowRightClickPan)&&(n.preventDefault(),n.stopPropagation(),u(t),P(t,n),a(V(t),n,o))},this.onPanning=function(n){var e=t.setup.disabled,o=t.props.onPanning;e||S(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(n.preventDefault(),n.stopPropagation(),T(t,n.clientX,n.clientY),a(V(t),n,o))},this.onPanningStop=function(n){var e=t.props.onPanningStop;t.isPanning&&(Y(t),a(V(t),n,e))},this.onPinchStart=function(n){var e=t.setup.disabled,o=t.props,i=o.onPinchingStart,r=o.onZoomStart;if(!e){var s=function(n,t){var e=n.setup.pinch,o=e.disabled,i=e.excluded,a=n.isInitialized,r=t.target;return!(!a||o||!r||J(r,i))}(t,n);s&&(function(n,t){var e=on(t);n.pinchStartDistance=e,n.lastDistance=e,n.pinchStartScale=n.transformState.scale,n.isPanning=!1;var o=sn(t);n.pinchLastCenterX=o.x,n.pinchLastCenterY=o.y,u(n)}(t,n),u(t),a(V(t),n,i),a(V(t),n,r))}},this.onPinch=function(n){var e=t.setup.disabled,o=t.props,i=o.onPinching,r=o.onZoom;if(!e){var s=function(n){var t=n.setup.pinch.disabled,e=n.isInitialized,o=n.pinchStartDistance;return!(!e||t||!o)}(t);s&&(n.preventDefault(),n.stopPropagation(),un(t,n),a(V(t),n,i),a(V(t),n,r))}},this.onPinchStop=function(n){var e,o,i=t.props,r=i.onPinchingStop,s=i.onZoomStop;t.pinchStartScale&&(o=(e=t).pinchMidpoint,e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,X(e,null==o?void 0:o.x,null==o?void 0:o.y),a(V(t),n,r),a(V(t),n,s))},this.onTouchPanningStart=function(n){var e=t.setup.disabled,o=t.props.onPanningStart;if(!e&&g(t,n)&&!(t.lastTouch&&+new Date-t.lastTouch<200&&1===n.touches.length)){t.lastTouch=+new Date,u(t);var i=n.touches,r=1===i.length,s=2===i.length;r&&(u(t),P(t,n),a(V(t),n,o)),s&&t.onPinchStart(n)}},this.onTouchPanning=function(n){var e=t.setup.disabled,o=t.props.onPanning;if(t.isPanning&&1===n.touches.length){if(e)return;if(!S(t))return;n.preventDefault(),n.stopPropagation();var i=n.touches[0];T(t,i.clientX,i.clientY),a(V(t),n,o)}else n.touches.length>1&&t.onPinch(n)},this.onTouchPanningStop=function(n){t.onPanningStop(n),t.onPinchStop(n)},this.onDoubleClick=function(n){if(!t.setup.disabled){var e=function(n,t){var e=n.isInitialized,o=n.setup,i=n.wrapperComponent,a=o.doubleClick,r=a.disabled,s=a.excluded,u=t.target,l=null==i?void 0:i.contains(u);return!(!(e&&u&&l)||r||J(u,s))}(t,n);e&&cn(t,n)}},this.clearPanning=function(n){t.isPanning&&t.onPanningStop(n)},this.setKeyPressed=function(n){t.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){t.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return!n.length||Boolean(n.find(function(n){return t.pressedKeys[n]}))},this.setTransformState=function(n,e,o){var i=t.props.onTransformed;if(Number.isNaN(n)||Number.isNaN(e)||Number.isNaN(o))console.error("Detected NaN set state values");else{n!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=n),t.transformState.positionX=e,t.transformState.positionY=o,t.applyTransformation();var r=V(t);t.onChangeCallbacks.forEach(function(n){return n(r)}),a(r,{scale:n,positionX:e,positionY:o},i)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var n=tn(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,e,o){return t.props.customTransform?t.props.customTransform(n,e,o):function(n,t,e){return"translate(".concat(n,"px, ").concat(t,"px) scale(").concat(e,")")}(n,e,o)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var n=t.transformState,e=n.scale,o=n.positionX,i=n.positionY,a=t.handleTransformStyles(o,i,e);t.contentComponent.style.transform=a}},this.getContext=function(){return V(t)},this.onChange=function(n){return t.onChangeCallbacks.has(n)||t.onChangeCallbacks.add(n),function(){t.onChangeCallbacks.delete(n)}},this.onInit=function(n){return t.onInitCallbacks.has(n)||t.onInitCallbacks.add(n),function(){t.onInitCallbacks.delete(n)}},this.init=function(n,e){t.cleanupWindowEvents(),t.wrapperComponent=n,t.contentComponent=e,m(t,t.transformState.scale),t.handleInitializeWrapperEvents(n),t.handleInitialize(n,e),t.initializeWindowEvents(),t.isInitialized=!0;var o=V(t);a(o,void 0,t.props.onInit)},this.props=n,this.setup=L(this.props),this.transformState=I(this.props)},fn=o.createContext(null),mn=o.forwardRef(function(n,t){var e,i,a=(0,o.useRef)(new pn(n)).current,r=(e=n.children,i=Q(a),"function"==typeof e?e(i):e);return(0,o.useImperativeHandle)(t,function(){return Q(a)},[a]),(0,o.useEffect)(function(){a.update(n)},[a,n]),o.createElement(fn.Provider,{value:a},r)});o.forwardRef(function(n,t){var e,i=(0,o.useRef)(null),a=(0,o.useContext)(fn);return(0,o.useEffect)(function(){return a.onChange(function(n){if(i.current){i.current.style.transform=a.handleTransformStyles(0,0,1/n.instance.transformState.scale)}})},[a]),o.createElement("div",z({},n,{ref:(e=[i,t],function(n){e.forEach(function(t){"function"==typeof t?t(n):null!=t&&(t.current=n)})})}))});var dn="transform-component-module_wrapper__SPB86",vn="transform-component-module_content__FBWxo";!function(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  transform: translate3d(0, 0, 0);\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var hn=function(n){var t=n.children,e=n.wrapperClass,i=void 0===e?"":e,a=n.contentClass,r=void 0===a?"":a,s=n.wrapperStyle,u=n.contentStyle,l=n.wrapperProps,c=void 0===l?{}:l,p=n.contentProps,f=void 0===p?{}:p,m=(0,o.useContext)(fn),d=m.init,v=m.cleanupWindowEvents,h=(0,o.useRef)(null),g=(0,o.useRef)(null);return(0,o.useEffect)(function(){var n=h.current,t=g.current;return null!==n&&null!==t&&d&&(null==d||d(n,t)),function(){null==v||v()}},[]),o.createElement("div",z({},c,{ref:h,className:"".concat(O," ").concat(dn," ").concat(i),style:s}),o.createElement("div",z({},f,{ref:g,className:"".concat(M," ").concat(vn," ").concat(r),style:u}),t))}},8453(n,t,e){e.d(t,{R:()=>r,x:()=>s});var o=e(6540);const i={},a=o.createContext(i);function r(n){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function s(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),o.createElement(a.Provider,{value:t},n.children)}}}]);